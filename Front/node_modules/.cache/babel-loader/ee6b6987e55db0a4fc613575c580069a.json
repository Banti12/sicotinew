{"ast":null,"code":"import _defineProperty from\"C:/Code/app-evaluaciones-tih/Front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Code/app-evaluaciones-tih/Front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Code/app-evaluaciones-tih/Front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import'bootstrap/dist/css/bootstrap.min.css';import'../styles/login.css';import{useState}from'react';import Logo from'../images/SPS.jpg';import{Form,Button,Image,InputGroup,Modal}from'react-bootstrap';import{connect}from'react-redux';import dataUser from'../Database/user.json';import{LoginAction}from'../redux/actions/loginAction';var Login=function Login(props){var sps='@spsolutions.com.mx';//let dispatch= useDispatch();\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),validated=_useState2[0],setValidated=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),validated2=_useState4[0],setValidated2=_useState4[1];var _useState5=useState(dataUser),_useState6=_slicedToArray(_useState5,2),user=_useState6[0],setUser=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),show=_useState8[0],setShow=_useState8[1];var handleClose=function handleClose(){return setShow(false);};var handleShow=function handleShow(){return setShow(true);};var login=function login(usuario,contrasena){var payload={usuario:usuario,contrasena:contrasena};props.loginAction(payload).then(function(response){console.log(response);if(response.success){props.history.push('/home');}});};var handleChange=function handleChange(e){setUser(_objectSpread(_objectSpread({},user),{},_defineProperty({},e.target.name,e.target.value)));};var handleSubmit=function handleSubmit(event){var form=event.currentTarget;if(form.checkValidity()===false){event.preventDefault();event.stopPropagation();}else{var aux=user.usuario+sps;setUser(function(u){return _objectSpread(_objectSpread({},user),{},{usuario:aux});});user.usuario.length&&user.contrasena.length&&login(aux,user.contrasena);event.preventDefault();}setValidated(true);};var handleSubmit2=function handleSubmit2(event){var form=event.currentTarget;if(form.checkValidity()===false){event.preventDefault();event.stopPropagation();}else{event.preventDefault();handleClose();//alert('listo');\n}setValidated2(true);};/*const handleClick=(event)=>{\r\n        event.preventDefault();\r\n        user.usuario.length && user.contrasena.length && login(user.usuario,user.contrasena);\r\n    }*/return/*#__PURE__*/_jsxs(\"div\",{className:\"login\",children:[/*#__PURE__*/_jsx(Image,{src:Logo,alt:\"SPS\",className:\"spsLogo\"}),/*#__PURE__*/_jsx(\"p\",{className:\"opacos\",children:\"Proporciona tus credenciales para iniciar sesi\\xF3n en la App de Evaluaciones\"}),/*#__PURE__*/_jsxs(Form,{noValidate:true,validated:validated,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(Form.Group,{md:\"6\",controlId:\"validationCustom03\",children:/*#__PURE__*/_jsxs(InputGroup,{children:[/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Usuario\",name:\"usuario\",onChange:handleChange,required:true}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",children:\"Ingresa un usuario valido.\"}),/*#__PURE__*/_jsx(InputGroup.Append,{children:/*#__PURE__*/_jsx(InputGroup.Text,{id:\"inputGroupPrepend\",children:\"@spsolutions.com.mx\"})})]})}),/*#__PURE__*/_jsx(Form.Group,{md:\"3\",controlId:\"validationCustom04\",children:/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"Contrase\\xF1a\",name:\"contrasena\",onChange:handleChange,required:true})}),/*#__PURE__*/_jsx(Button,{md:\"6\",type:\"submit\",variant:\"primary\",className:\"botonCentral\",size:\"md\"/*onClick={handleClick}*/,children:\"Iniciar Sesi\\xF3n\"})]}),/*#__PURE__*/_jsx(Button,{variant:\"link\",className:\"opacos\",onClick:handleShow,children:\"Olvid\\xE9 mi contrase\\xF1a\"}),/*#__PURE__*/_jsxs(Modal,{show:show,onHide:handleClose,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Talento In House\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(Form,{noValidate:true,validated:validated2,onSubmit:handleSubmit2,children:[/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Escribe tu correo para recstablcer tu contrase\\xF1a\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",placeholder:\"example@spsolutions.com.mx\",required:true})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"primary\",className:\"botonPrimary\",children:\"Enviar\"})]})}),/*#__PURE__*/_jsx(Modal.Footer,{children:/*#__PURE__*/_jsx(Button,{variant:\"danger\",onClick:handleClose,children:\"Cerrar\"})})]})]});};var mapStateToProps=function mapStateToProps(state){//console.log('state',state);\nreturn{userDetails:state.login.userDetails};};var mapDispatchToProps={loginAction:LoginAction};export default connect(mapStateToProps,mapDispatchToProps)(Login);","map":{"version":3,"sources":["C:/Code/app-evaluaciones-tih/front/src/pages/login.js"],"names":["useState","Logo","Form","Button","Image","InputGroup","Modal","connect","dataUser","LoginAction","Login","props","sps","validated","setValidated","validated2","setValidated2","user","setUser","show","setShow","handleClose","handleShow","login","usuario","contrasena","payload","loginAction","then","response","console","log","success","history","push","handleChange","e","target","name","value","handleSubmit","event","form","currentTarget","checkValidity","preventDefault","stopPropagation","aux","u","length","handleSubmit2","mapStateToProps","state","userDetails","mapDispatchToProps"],"mappings":"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","sourcesContent":["import 'bootstrap/dist/css/bootstrap.min.css';\r\nimport '../styles/login.css'\r\nimport {useState} from 'react'\r\nimport Logo from '../images/SPS.jpg'\r\nimport {Form, Button,Image,InputGroup,Modal} from 'react-bootstrap';\r\nimport {connect} from 'react-redux'\r\nimport dataUser from '../Database/user.json'\r\nimport {LoginAction} from '../redux/actions/loginAction'\r\n\r\nconst Login=(props)=>{\r\n    let sps='@spsolutions.com.mx';\r\n    //let dispatch= useDispatch();\r\n    const [validated, setValidated] = useState(false);\r\n    const [validated2, setValidated2] = useState(false);\r\n    const [user,setUser]=useState(dataUser);\r\n    const [show, setShow] = useState(false);\r\n    const handleClose = () => setShow(false);\r\n    const handleShow = () => setShow(true);\r\n    const login= (usuario,contrasena)=>{\r\n        let payload ={usuario: usuario, contrasena: contrasena}\r\n        props.loginAction(payload)\r\n        .then(response =>{\r\n            console.log(response);\r\n            if(response.success){\r\n                props.history.push('/home');\r\n            }\r\n        })\r\n    }\r\n\r\n    const handleChange=(e)=>{\r\n        setUser({\r\n                ...user,\r\n                [e.target.name]:e.target.value\r\n            }\r\n        )\r\n    }\r\n\r\n    const handleSubmit = (event) => {\r\n        const form = event.currentTarget;\r\n        if (form.checkValidity() === false) {\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n        }else{\r\n            let aux=user.usuario+sps\r\n            setUser(u=>{return {...user,usuario:aux}})\r\n            user.usuario.length && user.contrasena.length && login(aux,user.contrasena);\r\n            event.preventDefault();\r\n        }\r\n    \r\n        setValidated(true);\r\n      };\r\n      const handleSubmit2 = (event) => {\r\n        const form = event.currentTarget;\r\n        if (form.checkValidity() === false) {\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n        }else{\r\n            event.preventDefault();\r\n            handleClose();\r\n            //alert('listo');\r\n        }\r\n    \r\n        setValidated2(true);\r\n      };\r\n    /*const handleClick=(event)=>{\r\n        event.preventDefault();\r\n        user.usuario.length && user.contrasena.length && login(user.usuario,user.contrasena);\r\n    }*/\r\n    return (\r\n        <div className=\"login\">\r\n            <Image src={Logo} alt=\"SPS\" className=\"spsLogo\"/>\r\n            <p className=\"opacos\">Proporciona tus credenciales para iniciar sesión en la App de Evaluaciones</p>\r\n            <Form noValidate validated={validated} onSubmit={handleSubmit}>\r\n                <Form.Group md=\"6\" controlId=\"validationCustom03\">\r\n                    <InputGroup>\r\n                        <Form.Control\r\n                        type=\"text\"\r\n                        placeholder=\"Usuario\"\r\n                        name=\"usuario\"\r\n                        onChange={handleChange}\r\n                        required\r\n                        />\r\n                        <Form.Control.Feedback type=\"invalid\">Ingresa un usuario valido.</Form.Control.Feedback>\r\n                        <InputGroup.Append>\r\n                            <InputGroup.Text id=\"inputGroupPrepend\">@spsolutions.com.mx</InputGroup.Text>\r\n                        </InputGroup.Append>\r\n                    </InputGroup>    \r\n                </Form.Group>\r\n                <Form.Group md=\"3\" controlId=\"validationCustom04\">\r\n                    <Form.Control type=\"password\" placeholder=\"Contraseña\" name=\"contrasena\" onChange={handleChange} required />\r\n                </Form.Group>\r\n                <Button md=\"6\" type=\"submit\" variant=\"primary\" className=\"botonCentral\" size=\"md\" /*onClick={handleClick}*/ >Iniciar Sesión</Button>\r\n            </Form>\r\n            <Button variant=\"link\" className=\"opacos\" onClick={handleShow}>Olvidé mi contraseña</Button>\r\n            <Modal show={show} onHide={handleClose}>\r\n                <Modal.Header closeButton>\r\n                <Modal.Title>Talento In House</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    <Form noValidate validated={validated2} onSubmit={handleSubmit2}>\r\n                        <Form.Group>\r\n                            <Form.Label>Escribe tu correo para recstablcer tu contraseña</Form.Label>\r\n                            <Form.Control type=\"email\" placeholder=\"example@spsolutions.com.mx\" required/>\r\n                        </Form.Group>\r\n                        <Button type=\"submit\" variant=\"primary\" className=\"botonPrimary\">Enviar</Button>\r\n                    </Form>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                <Button variant=\"danger\" onClick={handleClose}>Cerrar</Button>\r\n                \r\n                </Modal.Footer>\r\n            </Modal>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst mapStateToProps=(state)=>{\r\n    //console.log('state',state);\r\n    return{\r\n        userDetails: state.login.userDetails,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps ={\r\n    loginAction:LoginAction\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Login);"]},"metadata":{},"sourceType":"module"}