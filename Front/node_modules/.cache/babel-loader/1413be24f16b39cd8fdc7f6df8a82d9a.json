{"ast":null,"code":"import _objectSpread from\"C:/Code/app-evaluaciones-tih/Front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{LOGIN}from\"../constan\";import{LOGIN_ERROR}from\"../constan\";import axios from\"axios\";var login=function login(payload,userData){return{type:LOGIN,userDetails:_objectSpread({},payload),userData:userData,success:true};};export var LoginAction=function LoginAction(payload){return function(dispatch,getState){return new Promise(function(resolve,reject){axios({//url: `https://anypoint.mulesoft.com/mocking/api/v1/sources/exchange/assets/d4788f6c-c024-43ee-8253-b139c8997e9e/m/usuarios?usuario=${payload.usuario}&contrasena=${payload.contrasena}`,\nurl:\"http://api-enriquecimiento.us-e2.cloudhub.io/api/gestionPagos/enriquecimiento/v2/contratos?claveEntidad=MONEX&idContrato=123455\",method:\"GET\",mode:\"no-cors\",headers:{\"X-Requested-With\":\"XMLHttpRequest\",\"Content-Type\":\"application/json;charset=UTF-8\",\"Access-Control-Allow-Origin\":\"*\"}}).then(function(response){console.log(response);dispatch(login(payload,response));resolve(login(payload,response));}).catch(function(error){dispatch({type:LOGIN_ERROR,payload:\"No se encontro el usuario.\"});resolve({error:error});alert(error.response.data.mensaje);});});};};","map":{"version":3,"sources":["C:/Code/app-evaluaciones-tih/Front/src/redux/actions/loginAction.js"],"names":["LOGIN","LOGIN_ERROR","axios","login","payload","userData","type","userDetails","success","LoginAction","dispatch","getState","Promise","resolve","reject","url","method","mode","headers","then","response","console","log","catch","error","alert","data","mensaje"],"mappings":"wJAAA,OAASA,KAAT,KAAsB,YAAtB,CACA,OAASC,WAAT,KAA4B,YAA5B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAACC,OAAD,CAAUC,QAAV,CAAuB,CACnC,MAAO,CACLC,IAAI,CAAEN,KADD,CAELO,WAAW,kBAAOH,OAAP,CAFN,CAGLC,QAAQ,CAAEA,QAHL,CAILG,OAAO,CAAE,IAJJ,CAAP,CAMD,CAPD,CASA,MAAO,IAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACL,OAAD,QAAa,UAACM,QAAD,CAAWC,QAAX,CAAwB,CAC9D,MAAO,IAAIC,CAAAA,OAAJ,CAAY,SAACC,OAAD,CAAUC,MAAV,CAAqB,CACtCZ,KAAK,CAAC,CACJ;AACAa,GAAG,CAAE,iIAFD,CAGJC,MAAM,CAAE,KAHJ,CAIJC,IAAI,CAAE,SAJF,CAKJC,OAAO,CAAE,CACP,mBAAoB,gBADb,CAEP,eAAgB,gCAFT,CAGP,8BAA+B,GAHxB,CALL,CAAD,CAAL,CAWGC,IAXH,CAWQ,SAACC,QAAD,CAAc,CAClBC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EACAV,QAAQ,CAACP,KAAK,CAACC,OAAD,CAAUgB,QAAV,CAAN,CAAR,CACAP,OAAO,CAACV,KAAK,CAACC,OAAD,CAAUgB,QAAV,CAAN,CAAP,CACD,CAfH,EAgBGG,KAhBH,CAgBS,SAACC,KAAD,CAAW,CAChBd,QAAQ,CAAC,CAAEJ,IAAI,CAAEL,WAAR,CAAqBG,OAAO,CAAE,4BAA9B,CAAD,CAAR,CACAS,OAAO,CAAC,CAAEW,KAAK,CAALA,KAAF,CAAD,CAAP,CACAC,KAAK,CAACD,KAAK,CAACJ,QAAN,CAAeM,IAAf,CAAoBC,OAArB,CAAL,CACD,CApBH,EAqBD,CAtBM,CAAP,CAuBD,CAxB0B,EAApB","sourcesContent":["import { LOGIN } from \"../constan\";\r\nimport { LOGIN_ERROR } from \"../constan\";\r\nimport axios from \"axios\";\r\n\r\nconst login = (payload, userData) => {\r\n  return {\r\n    type: LOGIN,\r\n    userDetails: { ...payload },\r\n    userData: userData,\r\n    success: true,\r\n  };\r\n};\r\n\r\nexport const LoginAction = (payload) => (dispatch, getState) => {\r\n  return new Promise((resolve, reject) => {\r\n    axios({\r\n      //url: `https://anypoint.mulesoft.com/mocking/api/v1/sources/exchange/assets/d4788f6c-c024-43ee-8253-b139c8997e9e/m/usuarios?usuario=${payload.usuario}&contrasena=${payload.contrasena}`,\r\n      url: \"http://api-enriquecimiento.us-e2.cloudhub.io/api/gestionPagos/enriquecimiento/v2/contratos?claveEntidad=MONEX&idContrato=123455\",\r\n      method: \"GET\",\r\n      mode: \"no-cors\",\r\n      headers: {\r\n        \"X-Requested-With\": \"XMLHttpRequest\",\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        \"Access-Control-Allow-Origin\": \"*\",\r\n      },\r\n    })\r\n      .then((response) => {\r\n        console.log(response);\r\n        dispatch(login(payload, response));\r\n        resolve(login(payload, response));\r\n      })\r\n      .catch((error) => {\r\n        dispatch({ type: LOGIN_ERROR, payload: \"No se encontro el usuario.\" });\r\n        resolve({ error });\r\n        alert(error.response.data.mensaje);\r\n      });\r\n  });\r\n};\r\n"]},"metadata":{},"sourceType":"module"}