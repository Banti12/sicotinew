{"ast":null,"code":"import { LOGIN } from \"../constan\";\nimport { LOGIN_ERROR } from \"../constan\";\nimport axios from \"axios\";\n\nconst login = (payload, userData) => {\n  return {\n    type: LOGIN,\n    userDetails: { ...payload\n    },\n    userData: userData,\n    success: true\n  };\n};\n\nexport const LoginAction = payload => (dispatch, getState) => {\n  return new Promise((resolve, reject) => {\n    axios({\n      //url: `https://anypoint.mulesoft.com/mocking/api/v1/sources/exchange/assets/d4788f6c-c024-43ee-8253-b139c8997e9e/m/usuarios?usuario=${payload.usuario}&contrasena=${payload.contrasena}`,\n      url: \"http://api-enriquecimiento.us-e2.cloudhub.io/api/gestionPagos/enriquecimiento/v2/contratos?claveEntidad=MONEX&idContrato=123455\",\n      //url:\"https://anypoint.mulesoft.com/mocking/api/v1/links/e6895f63-9e74-420e-8235-f73d95d89bde/gestionPagos/enriquecimiento/v2/contratos?claveEntidad=MONEX&idContrato=123455\",\n      method: \"GET\",\n      mode: \"no-cors\",\n      headers: {\n        \"X-Requested-With\": \"XMLHttpRequest\",\n        \"Content-Type\": \"application/json;charset=UTF-8\",\n        \"Access-Control-Allow-Origin\": \"*\"\n      },\n      auth: {\n        username: 'mnx-mule',\n        password: 'mnx-mule'\n      }\n    }).then(response => {\n      console.log(response);\n      dispatch(login(payload, response));\n      resolve(login(payload, response));\n    }).catch(error => {\n      dispatch({\n        type: LOGIN_ERROR,\n        payload: \"No se encontro el usuario.\"\n      });\n      resolve({\n        error\n      });\n      alert(error.response.data.mensaje);\n    });\n  });\n};","map":{"version":3,"sources":["C:/Code/app-evaluaciones-tih/front/src/redux/actions/loginAction.js"],"names":["LOGIN","LOGIN_ERROR","axios","login","payload","userData","type","userDetails","success","LoginAction","dispatch","getState","Promise","resolve","reject","url","method","mode","headers","auth","username","password","then","response","console","log","catch","error","alert","data","mensaje"],"mappings":"AAAA,SAASA,KAAT,QAAsB,YAAtB;AACA,SAASC,WAAT,QAA4B,YAA5B;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,KAAK,GAAG,CAACC,OAAD,EAAUC,QAAV,KAAuB;AACnC,SAAO;AACLC,IAAAA,IAAI,EAAEN,KADD;AAELO,IAAAA,WAAW,EAAE,EAAE,GAAGH;AAAL,KAFR;AAGLC,IAAAA,QAAQ,EAAEA,QAHL;AAILG,IAAAA,OAAO,EAAE;AAJJ,GAAP;AAMD,CAPD;;AASA,OAAO,MAAMC,WAAW,GAAIL,OAAD,IAAa,CAACM,QAAD,EAAWC,QAAX,KAAwB;AAC9D,SAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCZ,IAAAA,KAAK,CAAC;AACJ;AACAa,MAAAA,GAAG,EAAE,iIAFD;AAGJ;AACAC,MAAAA,MAAM,EAAE,KAJJ;AAKJC,MAAAA,IAAI,EAAE,SALF;AAMJC,MAAAA,OAAO,EAAE;AACP,4BAAoB,gBADb;AAEP,wBAAgB,gCAFT;AAGP,uCAA+B;AAHxB,OANL;AAWJC,MAAAA,IAAI,EAAE;AACJC,QAAAA,QAAQ,EAAE,UADN;AAEJC,QAAAA,QAAQ,EAAE;AAFN;AAXF,KAAD,CAAL,CAgBGC,IAhBH,CAgBSC,QAAD,IAAc;AAClBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACAb,MAAAA,QAAQ,CAACP,KAAK,CAACC,OAAD,EAAUmB,QAAV,CAAN,CAAR;AACAV,MAAAA,OAAO,CAACV,KAAK,CAACC,OAAD,EAAUmB,QAAV,CAAN,CAAP;AACD,KApBH,EAqBGG,KArBH,CAqBUC,KAAD,IAAW;AAChBjB,MAAAA,QAAQ,CAAC;AAAEJ,QAAAA,IAAI,EAAEL,WAAR;AAAqBG,QAAAA,OAAO,EAAE;AAA9B,OAAD,CAAR;AACAS,MAAAA,OAAO,CAAC;AAAEc,QAAAA;AAAF,OAAD,CAAP;AACAC,MAAAA,KAAK,CAACD,KAAK,CAACJ,QAAN,CAAeM,IAAf,CAAoBC,OAArB,CAAL;AACD,KAzBH;AA0BD,GA3BM,CAAP;AA4BD,CA7BM","sourcesContent":["import { LOGIN } from \"../constan\";\r\nimport { LOGIN_ERROR } from \"../constan\";\r\nimport axios from \"axios\";\r\n\r\nconst login = (payload, userData) => {\r\n  return {\r\n    type: LOGIN,\r\n    userDetails: { ...payload },\r\n    userData: userData,\r\n    success: true,\r\n  };\r\n};\r\n\r\nexport const LoginAction = (payload) => (dispatch, getState) => {\r\n  return new Promise((resolve, reject) => {\r\n    axios({\r\n      //url: `https://anypoint.mulesoft.com/mocking/api/v1/sources/exchange/assets/d4788f6c-c024-43ee-8253-b139c8997e9e/m/usuarios?usuario=${payload.usuario}&contrasena=${payload.contrasena}`,\r\n      url: \"http://api-enriquecimiento.us-e2.cloudhub.io/api/gestionPagos/enriquecimiento/v2/contratos?claveEntidad=MONEX&idContrato=123455\",\r\n      //url:\"https://anypoint.mulesoft.com/mocking/api/v1/links/e6895f63-9e74-420e-8235-f73d95d89bde/gestionPagos/enriquecimiento/v2/contratos?claveEntidad=MONEX&idContrato=123455\",\r\n      method: \"GET\",\r\n      mode: \"no-cors\",\r\n      headers: {\r\n        \"X-Requested-With\": \"XMLHttpRequest\",\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        \"Access-Control-Allow-Origin\": \"*\",\r\n      },\r\n      auth: {\r\n        username: 'mnx-mule',\r\n        password: 'mnx-mule'\r\n      },\r\n    })\r\n      .then((response) => {\r\n        console.log(response);\r\n        dispatch(login(payload, response));\r\n        resolve(login(payload, response));\r\n      })\r\n      .catch((error) => {\r\n        dispatch({ type: LOGIN_ERROR, payload: \"No se encontro el usuario.\" });\r\n        resolve({ error });\r\n        alert(error.response.data.mensaje);\r\n      });\r\n  });\r\n};\r\n"]},"metadata":{},"sourceType":"module"}