{"ast":null,"code":"import { LOGIN } from '../constan';\nimport { LOGIN_ERROR } from '../constan';\nimport Axios from 'axios';\n/*export const LoginAction = (payload) => {\r\n    return (dispatch)=>{\r\n        //let result={...payload};\r\n        //dispatch({ type: LOGIN, payload: result });\r\n        //console.log(payload)\r\n        /*Axios.get(`https://anypoint.mulesoft.com/mocking/api/v1/sources/exchange/assets/d4788f6c-c024-43ee-8253-b139c8997e9e/usuarios/1.0.0/m/usuarios?usuario=${payload.usuario}&contrasena=${payload.contrasena}`)\r\n        Axios.get('http://jsonplaceholder.typicode.com/posts')\r\n        .then(response=>{\r\n            console.log(response.data)\r\n            dispatch({ type: LOGIN, payload: response.data });\r\n        })\r\n        .catch(error=>{\r\n            dispatch({type: LOGIN_ERROR, payload: 'No se encontro el usuario'})\r\n        });\r\n    }\r\n}*/\n\nconst login = (payload, userData) => {\n  return {\n    type: LOGIN,\n    userDetails: { ...payload\n    },\n    userData: userData,\n    success: true\n  };\n};\n\nexport const LoginAction = payload => (dispatch, getState) => {\n  return new Promise((resolve, reject) => {\n    /*Axios.get(`https://anypoint.mulesoft.com/mocking/api/v1/sources/exchange/assets/d4788f6c-c024-43ee-8253-b139c8997e9e/`+\r\n    `usuarios/1.0.0/m/usuarios?usuario=${payload.usuario}&contrasena=${payload.contrasena}`)*/\n    let url = `https://anypoint.mulesoft.com/mocking/api/v1/sources/exchange/assets/d4788f6c-c024-43ee-8253-b139c8997e9e/` + `usuarios/1.0.0/m/usuarios?usuario=${payload.usuario}&contrasena=${payload.contrasena}`;\n    fetch({\n      method: 'get',\n      url: url,\n      headers: {\n        'X-Requested-With': 'XMLHttpRequest'\n      }\n    })\n    /*Axios.get('http://jsonplaceholder.typicode.com/posts')*/\n\n    /*Axios.get('https://pokeapi.co/api/v2/berry/cheri')*/\n\n    /*Axios.get('http://api-mesadecontrol.us-e2.cloudhub.io/api/gestionPagos/mesadecontrol/v1/reglas/dnovig/_aplicacion')*/\n    .then(response => {\n      dispatch(login(payload, response));\n      resolve(login(payload, response));\n    }).catch(error => {\n      dispatch({\n        type: LOGIN_ERROR,\n        payload: 'No se encontro el usuario'\n      });\n      resolve({\n        error\n      });\n    });\n  });\n};","map":{"version":3,"sources":["C:/Code/app-evaluaciones-tih/front/src/redux/actions/loginAction.js"],"names":["LOGIN","LOGIN_ERROR","Axios","login","payload","userData","type","userDetails","success","LoginAction","dispatch","getState","Promise","resolve","reject","url","usuario","contrasena","fetch","method","headers","then","response","catch","error"],"mappings":"AAAA,SAAQA,KAAR,QAAoB,YAApB;AACA,SAAQC,WAAR,QAA0B,YAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,MAAMC,KAAK,GAAE,CAACC,OAAD,EAASC,QAAT,KAAoB;AAC7B,SAAM;AACFC,IAAAA,IAAI,EAAEN,KADJ;AAEFO,IAAAA,WAAW,EAAC,EAAC,GAAGH;AAAJ,KAFV;AAGFC,IAAAA,QAAQ,EAACA,QAHP;AAIFG,IAAAA,OAAO,EAAE;AAJP,GAAN;AAMH,CAPD;;AASA,OAAO,MAAMC,WAAW,GAAIL,OAAD,IAAa,CAACM,QAAD,EAAWC,QAAX,KAAsB;AAC1D,SAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAoB;AACnC;AACR;AACQ,QAAIC,GAAG,GAAE,4GAAD,GACP,qCAAoCX,OAAO,CAACY,OAAQ,eAAcZ,OAAO,CAACa,UAAW,EADtF;AAEAC,IAAAA,KAAK,CAAC;AACFC,MAAAA,MAAM,EAAE,KADN;AAEFJ,MAAAA,GAAG,EAAEA,GAFH;AAGFK,MAAAA,OAAO,EAAE;AAAC,4BAAoB;AAArB;AAHP,KAAD;AAML;;AACA;;AACA;AARA,KASCC,IATD,CASMC,QAAQ,IAAE;AACZZ,MAAAA,QAAQ,CAACP,KAAK,CAACC,OAAD,EAASkB,QAAT,CAAN,CAAR;AACAT,MAAAA,OAAO,CAACV,KAAK,CAACC,OAAD,EAASkB,QAAT,CAAN,CAAP;AACH,KAZD,EAaCC,KAbD,CAaQC,KAAD,IAAS;AACZd,MAAAA,QAAQ,CAAC;AAACJ,QAAAA,IAAI,EAAEL,WAAP;AAAoBG,QAAAA,OAAO,EAAE;AAA7B,OAAD,CAAR;AACAS,MAAAA,OAAO,CAAC;AAACW,QAAAA;AAAD,OAAD,CAAP;AACH,KAhBD;AAiBP,GAtBU,CAAP;AAuBH,CAxBM","sourcesContent":["import {LOGIN} from '../constan';\r\nimport {LOGIN_ERROR} from '../constan'\r\nimport Axios from 'axios'\r\n\r\n/*export const LoginAction = (payload) => {\r\n    return (dispatch)=>{\r\n        //let result={...payload};\r\n        //dispatch({ type: LOGIN, payload: result });\r\n        //console.log(payload)\r\n        /*Axios.get(`https://anypoint.mulesoft.com/mocking/api/v1/sources/exchange/assets/d4788f6c-c024-43ee-8253-b139c8997e9e/usuarios/1.0.0/m/usuarios?usuario=${payload.usuario}&contrasena=${payload.contrasena}`)\r\n        Axios.get('http://jsonplaceholder.typicode.com/posts')\r\n        .then(response=>{\r\n            console.log(response.data)\r\n            dispatch({ type: LOGIN, payload: response.data });\r\n        })\r\n        .catch(error=>{\r\n            dispatch({type: LOGIN_ERROR, payload: 'No se encontro el usuario'})\r\n        });\r\n    }\r\n}*/\r\nconst login =(payload,userData)=>{\r\n    return{\r\n        type: LOGIN,\r\n        userDetails:{...payload},\r\n        userData:userData,\r\n        success: true\r\n    }\r\n}\r\n\r\nexport const LoginAction = (payload) => (dispatch, getState)=>{\r\n    return new Promise((resolve, reject) =>{\r\n        /*Axios.get(`https://anypoint.mulesoft.com/mocking/api/v1/sources/exchange/assets/d4788f6c-c024-43ee-8253-b139c8997e9e/`+\r\n        `usuarios/1.0.0/m/usuarios?usuario=${payload.usuario}&contrasena=${payload.contrasena}`)*/\r\n        let url=`https://anypoint.mulesoft.com/mocking/api/v1/sources/exchange/assets/d4788f6c-c024-43ee-8253-b139c8997e9e/`+\r\n        `usuarios/1.0.0/m/usuarios?usuario=${payload.usuario}&contrasena=${payload.contrasena}`;\r\n        fetch({\r\n            method: 'get',\r\n            url: url,\r\n            headers: {'X-Requested-With': 'XMLHttpRequest'}\r\n\r\n          })\r\n        /*Axios.get('http://jsonplaceholder.typicode.com/posts')*/\r\n        /*Axios.get('https://pokeapi.co/api/v2/berry/cheri')*/\r\n        /*Axios.get('http://api-mesadecontrol.us-e2.cloudhub.io/api/gestionPagos/mesadecontrol/v1/reglas/dnovig/_aplicacion')*/\r\n        .then(response=>{\r\n            dispatch(login(payload,response));\r\n            resolve(login(payload,response))\r\n        })\r\n        .catch((error)=>{\r\n            dispatch({type: LOGIN_ERROR, payload: 'No se encontro el usuario'})\r\n            resolve({error})\r\n        });\r\n});\r\n}\r\n"]},"metadata":{},"sourceType":"module"}